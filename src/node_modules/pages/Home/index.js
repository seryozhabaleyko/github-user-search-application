import React, { useContext } from 'react';
import { Pane, Spinner } from 'evergreen-ui';

import GithubContext from 'context/Github/GithubContext';
import Search from 'components/Search';
import Card from 'components/Card';
import Alert from 'components/Alert';

import './Home.scss';

function Home() {

    const { isLoading, users } = useContext(GithubContext);

    return (
        <div className="home">
            <div style={{ height: '60px' }}></div>
            <Alert />
            <Search />
            <div style={{ height: '60px' }}></div>

            {isLoading
                ? (
                    <Pane display="flex" alignItems="center" justifyContent="center" height={400}>
                        <Spinner />
                    </Pane>
                ) : (
                    <div className="user-list">
                        {users.map((user) => <Card key={user.id} {...user} />)}
                    </div>
                )}
        </div>
    );
}

export default Home;