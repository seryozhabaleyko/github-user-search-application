import React, { useReducer } from 'react';
import AlertContext from './AlertContext';
import alertReducer from './alertReducer';

function AlertState({ children }) {

    const [state, dispatch] = useReducer(alertReducer, null);

    const hide = () => dispatch({ type: 'HIDE_ALERT' });

    const show = (text, type = 'none') => {

        dispatch({
            type: 'SHOW_ALERT',
            payload: { type, text },
        });
    };

    return (
        <AlertContext.Provider value={{ hide, show, state }}>
            {children}
        </AlertContext.Provider>
    );
}

export default AlertState;